Apply upgrade proposals directly from governance consensus application

This should make it more robust in light of fast sync as otherwise the worker
could miss upgrade events in certain edge cases.
