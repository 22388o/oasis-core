runtime: Refactor protocol type, expose via `transaction::Context`
